webpackJsonp([0],{OBnN:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s("mvHQ"),n=s.n(o),a=(s("9rMa"),{methods:{handlerShowDropDown:function(){this.$store.state.showDropDown?this.$store.dispatch("setDropDown",!1):this.$store.dispatch("setDropDown",!0)},handlerDelNotes:function(){var t=this;this.$store.dispatch("delNotes").then(function(){t.$store.dispatch("setDropDown",!1),t.$router.push({name:"Index"})})},handlerBack:function(){this.$router.go(-1)},handlerPlacedTop:function(){var t=this,e=this.$store.state.notes.findIndex(function(e){return e.id==t.$store.state.notesUpdateData.id});if(this.$store.state.notes[e].isTop){this.$set(this.$store.state.notes[e],"isTop",!1);var s=this.$store.state.notes.splice(e,1);this.$store.state.notes=this.$store.state.notes.concat(s)}else{this.$set(this.$store.state.notes[e],"isTop",!0);var o=this.$store.state.notes.splice(e,1);this.$store.state.notes=o.concat(this.$store.state.notes)}localStorage.setItem("notes",n()(this.$store.state.notes))}},mounted:function(){console.log(this.$store.state.addOrUpdate)}}),i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header"},[s("div",{staticClass:"header-back",on:{click:t.handlerBack}},[t._v("返回")]),t._v(" "),s("div",{staticClass:"header-operation"},[s("span",[t._v("换肤")]),t._v(" "),s("span",{on:{click:function(e){return e.stopPropagation(),t.handlerShowDropDown(e)}}},[t._v("操作")])]),t._v(" "),s("ul",{staticClass:"header-dropDownList",class:{open:this.$store.state.showDropDown}},[s("li",[t._v("分享")]),t._v(" "),s("li",[t._v("提醒")]),t._v(" "),s("li",{on:{click:t.handlerPlacedTop}},[t._v(t._s(this.$store.state.notesUpdateData.isTop?"取消置顶":"设置置顶"))]),t._v(" "),"update"==this.$store.state.addOrUpdate?s("li",{on:{click:t.handlerDelNotes}},[t._v("删除便签")]):t._e()])])},staticRenderFns:[]},r={components:{HeaderBar:s("VU/8")(a,i,!1,null,null,null).exports},data:function(){return{content:""}},methods:{hideDropDown:function(){this.$store.dispatch("setDropDown",!1)},addNotes:function(){var t=this;if(""!=this.content){if(this.$route.query.id){var e=this.$store.state.notes.findIndex(function(e){return e.id==t.$route.query.id});this.$set(this.$store.state.notes[e],"content",this.content);this.$store.state.notes[e].id,this.content,this.$store.state.notes[e].isTop,this.$store.state.notes[e].date;localStorage.setItem("notes",n()(this.$store.state.notes))}else{var s={id:this.$store.state.notesID+1,content:this.content,isTop:!1,date:(new Date).getTime()};this.$store.dispatch("saveNotesID",s.id),this.$store.dispatch("addNotes",s)}this.$router.push("/")}else alert("请输入内容！")}},watch:{$route:function(t,e){e.query.id&&(this.content=this.defaultRuleForm.content)}},mounted:function(){console.log(this.$route.query),this.defaultRuleForm=JSON.parse(n()(this.$store.state.notesUpdateData)),this.$route.query.id&&(console.log(this.$store.state),this.content=this.$store.state.notesUpdateData.content)}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"panelAddNotes",on:{click:t.hideDropDown}},[s("header-bar"),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],staticClass:"textarea",attrs:{rows:"10",autofocus:"autofocus",placeholder:"记事"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}}),t._v(" "),s("button",{on:{click:function(e){t.addNotes()}}},[t._v("提交")])],1)},staticRenderFns:[]};var d=s("VU/8")(r,c,!1,function(t){s("tFed")},"data-v-85696748",null);e.default=d.exports},tFed:function(t,e){}});
//# sourceMappingURL=0.89a228b87d91a16bb1c5.js.map